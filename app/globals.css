@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: hsl(0 0% 100%);
    --foreground: hsl(240 10% 3.9%);
    --card: hsl(0 0% 100%);
    --card-foreground: hsl(240 10% 3.9%);
    --popover: hsl(0 0% 80%);
    --popover-foreground: hsl(240 10% 3.9%);
    --primary: hsl(240 5.9% 10%);
    --primary-foreground: hsl(0 0% 98%);
    --secondary: hsl(240 4.8% 95.9%);
    --secondary-foreground: hsl(240 5.9% 10%);
    --muted: hsl(240 4.8% 95.9%);
    --muted-foreground: hsl(240 3.8% 46.1%);
    --accent: hsl(240 4.8% 95.9%);
    --accent-foreground: hsl(240 5.9% 10%);
    --destructive: hsl(0 84.2% 60.2%);
    --destructive-foreground: hsl(0 0% 98%);
    --border: hsl(0, 0%, 27%);
    --input: hsl(240 5.9% 90%);
    --ring: hsl(240 5.9% 10%);
    --radius: 0.5rem;
    --ring: hsl(216 34% 17%);
    --success: hsl(113, 93%, 38%);
    --error: hsl(0, 99%, 32%);

    --mobilenav: hsl(164 64% 42%);
    --popoverBackground: hsl(204 4% 16%);
  }
  /**
   * @theme light
   */

  .light {
    --background: hsl(0 0% 100%);
    --foreground: hsl(240 10% 3.9%);
    --card: hsl(0 0% 100%);
    --card-foreground: hsl(240 10% 3.9%);
    --popover: hsl(0, 0%, 100%);
    --popover-foreground: hsl(240 10% 3.9%);
    --primary: hsl(0, 0%, 27%);
    --primary-foreground: hsl(0 0% 98%);
    --secondary: hsl(0, 0%, 39%);
    --secondary-foreground: hsl(240 5.9% 10%);
    --muted: hsl(240 4.8% 95.9%);
    --muted-foreground: hsl(240 3.8% 46.1%);
    --accent: hsl(240 4.8% 95.9%);
    --accent-foreground: hsl(240 5.9% 10%);
    --destructive: hsl(0 84.2% 60.2%);
    --destructive-foreground: hsl(0 0% 98%);
    --border: hsl(240, 2%, 21%);
    --input: hsl(240 5.9% 90%);
    --ring: hsl(240 5.9% 10%);
    --radius: 0.5rem;
    --ring: hsl(216 34% 17%);
    --success: hsl(113 100% 40%);
    --error: hsl(9 100% 40%);

    --mobilenav: hsl(164 64% 42%);
    --popoverBackground: hsl(204 4% 16%);
  }

  .light[data-accent="magenta"] {
    --accent: hsl(340, 82%, 52%);
    --accent-foreground: hsl(0, 0%, 100%);
    --secondary: hsl(340, 82%, 52%);
    --secondary-foreground: hsl(240 10% 3.9%);
  }

  :root[data-accent="aqua"] {
    --accent: hsl(187, 49%, 17%);
    --accent-foreground: hsl(0, 0%, 100%);
    --secondary: hsl(188, 9%, 52%);
    --secondary-foreground: hsl(0, 0%, 100%);
  }

  :root[data-accent="orange"] {
    --accent: hsl(25, 97%, 53%);
    --accent-foreground: hsl(0, 0%, 100%);
    --secondary: hsl(25, 97%, 53%);
    --secondary-foreground: hsl(0, 0%, 0%);
  }

  /**
   * @theme dark
   */

  .dark {
    /*
    * Surfaces
    */
    --background: hsl(0, 0%, 4%);
    --card: hsl(0, 0%, 10%);
    --popover: hsl(0, 0%, 12%);
    --navigation: hsl(0, 0%, 25%);
    --dialog: hsl(240 10% 3.9%);
    /*
    * Components
    */
    --primary: hsl(0 0% 98%);
    --secondary: hsl(0, 0%, 25%);
    --muted: hsl(240 3.7% 15.9%);
    --accent: hsl(203, 5%, 35%);
    --destructive: hsl(0 62.8% 30.6%);
    --border: hsl(0, 0%, 25%);
    --input: hsl(240 3.7% 15.9%);
    --ring: hsl(240 4.9% 83.9%);
    /*
    * Typography
    */
    --primary-foreground: hsl(0, 0%, 100%);
    --foreground: hsl(0 0% 98%);
    --card-foreground: hsl(0 0% 98%);
    --secondary-foreground: hsl(0, 0%, 100%);
    --popover-foreground: hsl(0, 0%, 9%);
    --muted-foreground: hsl(240 5% 64.9%);
    --accent-foreground: hsl(0 0% 98%);
    --destructive-foreground: hsl(0 0% 98%);
    --ring: hsl(216 34% 17%);
    --success: hsl(113 100% 40%);
    --error: hsl(9 100% 40%);
    --mobilenav: hsl(191 100% 39%);
  }

  .dark[data-accent="magenta"] {
    --accent: hsl(340, 82%, 52%);
    --accent-foreground: hsl(0, 0%, 100%);
    --secondary: hsl(345, 84%, 61%);
    --secondary-foreground: hsl(240 10% 3.9%);
  }

  .dark[data-accent="aqua"] {
    --accent: hsl(187, 49%, 17%);
    --accent-foreground: hsl(0, 0%, 100%);
    --secondary: hsl(188, 9%, 52%);
    --secondary-foreground: hsl(0, 0%, 100%);
  }

  .dark[data-accent="purple"] {
    --accent: hsl(291, 65%, 34%);
    --accent-foreground: hsl(0, 0%, 100%);
    --secondary: hsl(265, 48%, 70%);
    --secondary-foreground: hsl(240 10% 3.9%);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

@layer utilities {
  /* Hide scrollbar for Chrome, Safari and Opera */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  /* Hide scrollbar for IE, Edge and Firefox */
  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
}

@layer components {
  .menu {
    @apply relative gap-2 flex z-50 min-w-[180px] flex-col overflow-auto overscroll-contain rounded border bg-popover p-5 text-foreground;
  }

  ul {
    color: var(--accent-foreground);
    display: flex;
    flex-direction: column;
    margin: 0;
    padding: 0;
    list-style: none;
    position: relative;
    flex-wrap: wrap;
    transition: color 0.5s;
    touch-action: none;
  }

  li {
    font-weight: 400;
  }

  li a {
    display: flex;
    flex-direction: column;
    padding: 0.5rem 1.25rem;
    text-decoration: none;
  }

  @supports not (anchor-name: --a) {
    li a:hover {
      background: color-mix(in lch, var(--accent), transparent 20%);
      border-radius: 6px;
      transition: background-color 0.3s ease-in-out;
    }
  }

  :is(a, button) {
    outline-color: color-mix(in lch, canvasText, transparent 50%);
  }

  a:is(:focus-visible, :hover),
  ul:has(a:target:is(:focus-visible, :hover))::after {
    color: var(--accent-foreground);
  }

  [data-no-anchor] ul:has(li:nth-of-type(1) a:is(:hover, :focus-visible)) {
    --item-active-y: var(--item-1-y);
    --item-active-x: var(--item-1-x);
    --item-active-width: var(--item-1-width);
    --item-active-height: var(--item-1-height);
  }
  [data-no-anchor] ul:has(li:nth-of-type(2) a:is(:hover, :focus-visible)) {
    --item-active-y: var(--item-2-y);
    --item-active-x: var(--item-2-x);
    --item-active-width: var(--item-2-width);
    --item-active-height: var(--item-2-height);
  }
  [data-no-anchor] ul:has(li:nth-of-type(3) a:is(:hover, :focus-visible)) {
    --item-active-y: var(--item-3-y);
    --item-active-x: var(--item-3-x);
    --item-active-width: var(--item-3-width);
    --item-active-height: var(--item-3-height);
  }
  [data-no-anchor] ul:has(li:nth-of-type(4) a:is(:hover, :focus-visible)) {
    --item-active-y: var(--item-4-y);
    --item-active-x: var(--item-4-x);
    --item-active-width: var(--item-4-width);
    --item-active-height: var(--item-4-height);
  }
  [data-no-anchor] ul:has(li:nth-of-type(5) a:is(:hover, :focus-visible)) {
    --item-active-y: var(--item-5-y);
    --item-active-x: var(--item-5-x);
    --item-active-width: var(--item-5-width);
    --item-active-height: var(--item-5-height);
  }
  [data-no-anchor] ul:has(li:nth-of-type(6) a:is(:hover, :focus-visible)) {
    --item-active-y: var(--item-6-y);
    --item-active-x: var(--item-6-x);
    --item-active-width: var(--item-6-width);
    --item-active-height: var(--item-6-height);
  }
  [data-no-anchor] ul:has(li:nth-of-type(7) a:is(:hover, :focus-visible)) {
    --item-active-y: var(--item-7-y);
    --item-active-x: var(--item-7-x);
    --item-active-width: var(--item-7-width);
    --item-active-height: var(--item-7-height);
  }

  [data-no-anchor] ul:has(li:nth-of-type(1) a:target) {
    --target-y: var(--item-1-y);
    --target-x: var(--item-1-x);
    --target-width: var(--item-1-width);
    --target-height: var(--item-1-height);
  }
  [data-no-anchor] ul:has(li:nth-of-type(2) a:target) {
    --target-y: var(--item-2-y);
    --target-x: var(--item-2-x);
    --target-width: var(--item-2-width);
    --target-height: var(--item-2-height);
  }
  [data-no-anchor] ul:has(li:nth-of-type(3) a:target) {
    --target-y: var(--item-3-y);
    --target-x: var(--item-3-x);
    --target-width: var(--item-3-width);
    --target-height: var(--item-3-height);
  }
  [data-no-anchor] ul:has(li:nth-of-type(4) a:target) {
    --target-y: var(--item-4-y);
    --target-x: var(--item-4-x);
    --target-width: var(--item-4-width);
    --target-height: var(--item-4-height);
  }
  [data-no-anchor] ul:has(li:nth-of-type(5) a:target) {
    --target-y: var(--item-5-y);
    --target-x: var(--item-5-x);
    --target-width: var(--item-5-width);
    --target-height: var(--item-5-height);
  }
  [data-no-anchor] ul:has(li:nth-of-type(6) a:target) {
    --target-y: var(--item-6-y);
    --target-x: var(--item-6-x);
    --target-width: var(--item-6-width);
    --target-height: var(--item-6-height);
  }
  [data-no-anchor] ul:has(li:nth-of-type(7) a:target) {
    --target-y: var(--item-7-y);
    --target-x: var(--item-7-x);
    --target-width: var(--item-7-width);
    --target-height: var(--item-7-height);
  }

  ul:has(a:is(:focus-visible, :hover)) {
    --intent: 1;
  }
  /*hover box */
  ul::before,
  ul::after {
    --transition: 0.18s;
    content: "";
    position: fixed;
    pointer-events: none;
    top: calc(var(--item-active-y) * 1px);
    left: calc(var(--item-active-x) * 1px);
    height: calc(var(--item-active-height) * 1px);
    width: calc(var(--item-active-width) * 1px);
    opacity: var(--intent, 0);
    z-index: -1;
    border-radius: 6px;
    background: hsl(var(--accent));
    transition: all var(--transition), top var(--transition),
      left var(--transition), height var(--transition),
      opacity var(--transition), color var(--transition),
      width var(--transition);
    transition-timing-function: linear(
      0 0%,
      0.2342 12.49%,
      0.4374 24.99%,
      0.6093 37.49%,
      0.6835 43.74%,
      0.7499 49.99%,
      0.8086 56.25%,
      0.8593 62.5%,
      0.9023 68.75%,
      0.9375 75%,
      0.9648 81.25%,
      0.9844 87.5%,
      0.9961 93.75%,
      1 100%
    );
  }
  /* underline*/
  ul::after {
    top: calc(var(--target-y) * 1px);
    left: calc((var(--target-x) * 1px) + 1.25rem);
    height: calc(var(--target-height) * 1px);
    width: calc((var(--target-width) * 1px) - 2.5rem);
    opacity: 1;
    background: transparent;
    border-radius: 0;
    border-bottom: 2px solid currentColor;
    view-transition-name: target;
  }

  /* Targeting */
  @supports (anchor-name: --a) {
    nav {
      --anchor: var(--item-active);
    }

    nav li:nth-of-type(1) {
      anchor-name: --item-1;
    }
    nav li:nth-of-type(2) {
      anchor-name: --item-2;
    }
    nav li:nth-of-type(3) {
      anchor-name: --item-3;
    }
    nav li:nth-of-type(4) {
      anchor-name: --item-4;
    }
    nav li:nth-of-type(5) {
      anchor-name: --item-5;
    }
    nav li:nth-of-type(6) {
      anchor-name: --item-6;
    }

    nav:has(li:nth-of-type(1) a:is(:hover, :focus-visible)) {
      --anchor: --item-1;
    }
    nav:has(li:nth-of-type(2) a:is(:hover, :focus-visible)) {
      --anchor: --item-2;
    }
    nav:has(li:nth-of-type(3) a:is(:hover, :focus-visible)) {
      --anchor: --item-3;
    }
    nav:has(li:nth-of-type(4) a:is(:hover, :focus-visible)) {
      --anchor: --item-4;
    }
    nav:has(li:nth-of-type(5) a:is(:hover, :focus-visible)) {
      --anchor: --item-5;
    }
    nav:has(li:nth-of-type(6) a:is(:hover, :focus-visible)) {
      --anchor: --item-6;
    }

    nav:has(li:nth-of-type(1) a:target) {
      --target: --item-1;
    }
    nav:has(li:nth-of-type(2) a:target) {
      --target: --item-2;
    }
    nav:has(li:nth-of-type(3) a:target) {
      --target: --item-3;
    }
    nav:has(li:nth-of-type(4) a:target) {
      --target: --item-4;
    }
    nav:has(li:nth-of-type(5) a:target) {
      --target: --item-5;
    }
    nav:has(li:nth-of-type(6) a:target) {
      --target: --item-6;
    }

    ul::before {
      left: anchor(var(--anchor) left);
      top: anchor(var(--anchor) top);
      width: anchor-size(var(--anchor) width);
      height: anchor-size(var(--anchor) height);
    }

    ul::after {
      left: calc(anchor(var(--target) left) + 1.25rem);
      top: anchor(var(--target) top);
      width: calc(anchor-size(var(--target) width) - 2.5rem);
      height: anchor-size(var(--target) height);
    }
  }

  ::view-transition-group(target),
  ::view-transition-group(item) {
    mix-blend-mode: normal;
  }

  /* Menu */

  .menu-item {
    display: flex;
    flex-direction: column;
    cursor: default;
    scroll-margin: 0.5rem;
    align-items: center;
    gap: 0.5rem;
    border-radius: 0.25rem;
    padding: 0.5rem;
    outline: none !important;
    align-items: flex-start;
  }

  .menu-item-inner {
    margin-left: 2rem;
    flex-direction: row;
    align-items: center;
    justify-content: start;
  }

  .menu-item-inner::before {
    content: "|";
  }

  .column {
    display: flex;
    flex-direction: row;
    justify-content: flex-start;
    align-items: center;
  }

  .menu-label {
    @apply text-xs text-foreground/40;
  }

  .popover {
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1),
      0 4px 6px -4px rgb(0 0 0 / 0.1);
    transform-origin: top;
    opacity: 0;
    transition-property: opacity, scale, translate;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
    scale: 0.95;
    translate: 0 -0.5rem;
  }

  .popover[data-enter] {
    opacity: 1;
    scale: 1;
    translate: 0;
  }

  .popover[data-leave] {
    opacity: 0;
    scale: 0.95;
    translate: 0 -0.5rem;
  }

  .arrow > svg {
    fill: hsl(204 4% 16%);
    stroke: hsl(204 4% 24%);
  }

  .arrow:where(.dark, .dark *) > svg {
    fill: hsl(204 4% 16%);
    stroke: hsl(204 4% 24%);
  }

  .popover[data-enter] > .arrow {
    @apply rotate-180;
  }

  .separator {
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
    height: 0px;
    width: 100%;
    border-top-width: 1px;
    border-color: var(--border);
  }
}

/*
@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}*/
